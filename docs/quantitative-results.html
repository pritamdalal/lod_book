<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Learning Options from Data</title>
  <meta name="description" content="Learning Options from Data">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Learning Options from Data" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="pritamdalal/lod_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Learning Options from Data" />
  
  
  

<meta name="author" content="Pritam Dalal">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="options-101.html">
<link rel="next" href="the-markets.html">
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Learning Options from Data</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#delta-neutral"><i class="fa fa-check"></i><b>1.1</b> Delta-Neutral</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#why-this-book"><i class="fa fa-check"></i><b>1.2</b> Why This Book</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#who-is-this-book-for"><i class="fa fa-check"></i><b>1.3</b> Who Is This Book For?</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#how-to-read"><i class="fa fa-check"></i><b>1.4</b> How to Read</a><ul>
<li class="chapter" data-level="1.4.1" data-path="introduction.html"><a href="introduction.html#guiding-philosophies"><i class="fa fa-check"></i><b>1.4.1</b> Guiding Philosophies</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i><b>1.4.2</b> Prerequisites</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction.html"><a href="introduction.html#further-reading"><i class="fa fa-check"></i><b>1.4.3</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#acknowledgments"><i class="fa fa-check"></i><b>1.5</b> Acknowledgments</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#about-the-author"><i class="fa fa-check"></i><b>1.6</b> About the Author</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="options-101.html"><a href="options-101.html"><i class="fa fa-check"></i><b>2</b> Options 101</a><ul>
<li class="chapter" data-level="2.1" data-path="options-101.html"><a href="options-101.html#car-insurance"><i class="fa fa-check"></i><b>2.1</b> Car Insurance</a></li>
<li class="chapter" data-level="2.2" data-path="options-101.html"><a href="options-101.html#vanilla-options"><i class="fa fa-check"></i><b>2.2</b> Vanilla Options</a></li>
<li class="chapter" data-level="2.3" data-path="options-101.html"><a href="options-101.html#long-vs-short"><i class="fa fa-check"></i><b>2.3</b> Long vs Short</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="quantitative-results.html"><a href="quantitative-results.html"><i class="fa fa-check"></i><b>3</b> Quantitative Results</a><ul>
<li class="chapter" data-level="3.1" data-path="quantitative-results.html"><a href="quantitative-results.html#arbitrage"><i class="fa fa-check"></i><b>3.1</b> Arbitrage</a></li>
<li class="chapter" data-level="3.2" data-path="quantitative-results.html"><a href="quantitative-results.html#stocks-dividends"><i class="fa fa-check"></i><b>3.2</b> Stocks &amp; Dividends</a></li>
<li class="chapter" data-level="3.3" data-path="quantitative-results.html"><a href="quantitative-results.html#exchange-traded-funds-etfs"><i class="fa fa-check"></i><b>3.3</b> Exchange Traded Funds (ETFs)</a></li>
<li class="chapter" data-level="3.4" data-path="quantitative-results.html"><a href="quantitative-results.html#discounting-accumulating"><i class="fa fa-check"></i><b>3.4</b> Discounting &amp; Accumulating</a></li>
<li class="chapter" data-level="3.5" data-path="quantitative-results.html"><a href="quantitative-results.html#option-contracts"><i class="fa fa-check"></i><b>3.5</b> Option Contracts</a></li>
<li class="chapter" data-level="3.6" data-path="quantitative-results.html"><a href="quantitative-results.html#forward-contracts"><i class="fa fa-check"></i><b>3.6</b> Forward Contracts</a><ul>
<li class="chapter" data-level="3.6.1" data-path="quantitative-results.html"><a href="quantitative-results.html#specification-and-payoff"><i class="fa fa-check"></i><b>3.6.1</b> Specification and Payoff</a></li>
<li class="chapter" data-level="3.6.2" data-path="quantitative-results.html"><a href="quantitative-results.html#the-forward-price"><i class="fa fa-check"></i><b>3.6.2</b> The Forward Price</a></li>
<li class="chapter" data-level="3.6.3" data-path="quantitative-results.html"><a href="quantitative-results.html#valuing-a-forward-contract"><i class="fa fa-check"></i><b>3.6.3</b> Valuing a Forward Contract</a></li>
<li class="chapter" data-level="3.6.4" data-path="quantitative-results.html"><a href="quantitative-results.html#synthetic-forwards"><i class="fa fa-check"></i><b>3.6.4</b> Synthetic Forwards</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="quantitative-results.html"><a href="quantitative-results.html#put-call-parity"><i class="fa fa-check"></i><b>3.7</b> Put-Call Parity</a></li>
<li class="chapter" data-level="3.8" data-path="quantitative-results.html"><a href="quantitative-results.html#rational-option-pricing"><i class="fa fa-check"></i><b>3.8</b> Rational Option Pricing</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-markets.html"><a href="the-markets.html"><i class="fa fa-check"></i><b>4</b> The Markets</a><ul>
<li class="chapter" data-level="4.1" data-path="the-markets.html"><a href="the-markets.html#exchanges"><i class="fa fa-check"></i><b>4.1</b> Exchanges</a></li>
<li class="chapter" data-level="4.2" data-path="the-markets.html"><a href="the-markets.html#brokers"><i class="fa fa-check"></i><b>4.2</b> Brokers</a></li>
<li class="chapter" data-level="4.3" data-path="the-markets.html"><a href="the-markets.html#market-makers"><i class="fa fa-check"></i><b>4.3</b> Market-Makers</a></li>
<li class="chapter" data-level="4.4" data-path="the-markets.html"><a href="the-markets.html#other-liquidity-providers"><i class="fa fa-check"></i><b>4.4</b> Other Liquidity Providers</a></li>
<li class="chapter" data-level="4.5" data-path="the-markets.html"><a href="the-markets.html#the-buy-side"><i class="fa fa-check"></i><b>4.5</b> The Buy Side</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="profit-loss.html"><a href="profit-loss.html"><i class="fa fa-check"></i><b>5</b> Profit &amp; Loss</a><ul>
<li class="chapter" data-level="5.1" data-path="profit-loss.html"><a href="profit-loss.html#stock-pnl"><i class="fa fa-check"></i><b>5.1</b> Stock PNL</a></li>
<li class="chapter" data-level="5.2" data-path="profit-loss.html"><a href="profit-loss.html#option-pnl"><i class="fa fa-check"></i><b>5.2</b> Option PNL</a></li>
<li class="chapter" data-level="5.3" data-path="profit-loss.html"><a href="profit-loss.html#scaling-up"><i class="fa fa-check"></i><b>5.3</b> Scaling Up</a></li>
<li class="chapter" data-level="5.4" data-path="profit-loss.html"><a href="profit-loss.html#returns"><i class="fa fa-check"></i><b>5.4</b> Returns</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="option-pricing.html"><a href="option-pricing.html"><i class="fa fa-check"></i><b>6</b> Option Pricing</a><ul>
<li class="chapter" data-level="6.1" data-path="option-pricing.html"><a href="option-pricing.html#black-scholes-merton"><i class="fa fa-check"></i><b>6.1</b> Black-Scholes-Merton</a></li>
<li class="chapter" data-level="6.2" data-path="option-pricing.html"><a href="option-pricing.html#investment-risk-reduction"><i class="fa fa-check"></i><b>6.2</b> Investment Risk Reduction</a></li>
<li class="chapter" data-level="6.3" data-path="option-pricing.html"><a href="option-pricing.html#forward-replication"><i class="fa fa-check"></i><b>6.3</b> Forward Replication</a></li>
<li class="chapter" data-level="6.4" data-path="option-pricing.html"><a href="option-pricing.html#delta-hedging"><i class="fa fa-check"></i><b>6.4</b> Delta Hedging</a></li>
<li class="chapter" data-level="6.5" data-path="option-pricing.html"><a href="option-pricing.html#greeks"><i class="fa fa-check"></i><b>6.5</b> Greeks</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Learning Options from Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="quantitative-results" class="section level1">
<h1><span class="header-section-number">3</span> Quantitative Results</h1>
<p>In this section I introduce the basic concepts and results from quantitative finance that will be needed later. It is the most academic chapter, and I hesitated to unleash these gory details, as my initial vision of the book was to be totally practical.</p>
<p>I ultimately decided to get a little mathy on you for a couple of reasons. The first reason is that I’m a recovering quantitative finance nerd, and writing this book is something of a relapse for me. The second reason is that I frequently get questions from my MFM students that requires resorting to this level of formalism. Out of of a genuine interest for their well beings, I try to let the know that getting caught up such details is a frivolous waste of time. And even though it pains me to contribute to their budding pathology by ingulging in such pedantry, I figure they have paid tuition so I probably owe them an answer. Of course this line of thought is probably just the rationalization of a math addict.</p>
<p>I envy those of you who can take the statements of fact in this chapter as given, and then move on to more elevated pursuits.</p>
<!-- For a more detailed treatment, I recommend the following execellent texts: -->
<!-- **Options, Futures, and Other Derivatives** by John C. Hull -->
<!-- **Derivative Markets** by Robert L. McDonald -->
<div id="arbitrage" class="section level2">
<h2><span class="header-section-number">3.1</span> Arbitrage</h2>
<p>An <em>arbitrage</em> is a risk-less profit that requires no initial investment. One of the basic tenets of quantitative finance is that arbitrage opportunities should not exist in the markets. The reasoning is as follows: if an arbitrage exists, market participants will pile onto the trade and thus move prices until the arb no longer exists.</p>
<p>Mathematically minded nerds with lots of time on their hands use arbitrage arguments to prove theorems about the nature of markets. In doing so, they make stylized, and often questionable, assumptions about markets, glossing over certain details to make their mathematical stories work seemlessly. Abitrage arguments are highly academic in nature, and plenty of that work is of limited importance to finance practitioners (or anyone for that matter).</p>
<p>There is, however, a strong kernel of truth to these arguement. If markets signficantly breach so-called <strong>no arbitrage</strong> prices, then there will be very safe and profitable trades in the market. Traders will eventually catch on to the these trades, which will cause prices to move toward the no-arbitrage levels.</p>
<p>Keep your eyes peeled for arbs in the market. And if you find one, please call me.</p>
</div>
<div id="stocks-dividends" class="section level2">
<h2><span class="header-section-number">3.2</span> Stocks &amp; Dividends</h2>
<p>Companies can raise funds to grow their business by issuing <em>shares of stock</em>. The buyer of the stock, called a <em>shareholder</em>, pays money to the comapany which the company keeps forever. In return, the shareholder is entitled to a fraction of the companies future profits and also has the ability to vote on certain matters at shareholder meetings. A crucial point is that the owner of a stock has limited liability with resepct to the company. The worst thing that can happen is that shareholder never recieves any profits, and the stock itself also becomes worthless. So, for example, if the company is caught illegally polluting, the shareholder cannot be sued for damages. In this sense the value of stock can never be negative.</p>
<p>Once a stock has been issued by a company, the owner of the stock can sell it to another investor. This is called a secondary market transaction. Once the share has been sold in the secondary market, the claims to profits and the voting rights are both transferred to the purchaser.</p>
<p>Secondary market transactions occur on exchanges, like the New York Stock Exchange, and are usually what people are referring to when they talk about <em>the stock market</em>. These transactions occur via complicated auction mechanisms that match buyers and sellers. The mechanisms are such that the actual trade prices can fluctuate (sometimes greatly) from transaction to transaction.</p>
<p>Here are some example of companies who’s stocks trade heavily in the secondary markets.</p>
<p><strong>AAPL</strong> - Apple (you seriously have an Android bro)</p>
<p><strong>GOOG</strong> - Alphabet (dude iPhones are totally overrated)</p>
<p><strong>FB</strong> - Facebook (please like my pictures and make me feel cool)</p>
<p><strong>XOM</strong> - Exxon Mobile (I’m self-righteous about the environment…until I check my 401K)</p>
<p>Suppose you want to trade a share of stock, and you want to be able to fill your trade immediately. If you are a buyer of the stock, you will be charged a certain amount called the ask price. If you are a seller of the stock you will recieve a certain amount called the bid price. The bid price is lower than the ask price. These so-called <em>bid-ask spreads</em> exist in other financial markets as well, including options markets.</p>
<p>If you are a market for a particular stock, there are three prices that you will surely need to keep your eye one. The current bid price, the current ask price, and the last price at which a trade occurred. We will often refer to <em>the price of a stock at time</em> <span class="math inline">\(t\)</span> and denote by <span class="math inline">\(S_{t}\)</span>. We can ofen gloss over what the phrase <em>the price of the stock</em> exactly means, you can safely choose to interpret it in one of two way: 1) the current mid price, which is as the average of the bid and ask at time <span class="math inline">\(t\)</span>; 2) the last trade price as of time <span class="math inline">\(t\)</span>. For stocks that have high trading volume, these two values will be usually quite close - but this is not always the case.</p>
<p>The upshot of our previous discussion about exchanges is that <span class="math inline">\(S_{t}\)</span> varies through time. As it turns out, it is useful to think of the of <span class="math inline">\(S_{t}\)</span> as a series of random variable. In fancy math circles this is know as a <em>stochastic process</em>. It is my intention to try to avoid the nerdery of fancy math as much as possible, but sometimes we will be forced to indulge is such evils. My apologies in advanced.</p>
<p>When profits are distributed to the owners of a stock, this is done on a per share basis. The amount that is paid per share is called a <em>dividend payment</em>. It is reasonable to wonder whether issuing a dividend payment has any near-term impact on the price of the stock. This question leads to our first <em>qunatitative</em> result.</p>
<p><strong>Theorem:</strong> Suppose that a stock is going make a divided payment of <span class="math inline">\(c\)</span> at time <span class="math inline">\(T\)</span> and that just prior to the dividend payment is trading at a price of <span class="math inline">\(S^{*}\)</span>. Then then price of the stock just after the divident payment is <span class="math inline">\(S_{T} = S^{*} - c\)</span>.</p>
<p>Properly defining the concept of a share of <em>stock</em> is a complicated legal exercise. Similarly, an accurate description of how stocks are sold in the secondary market would require it’s own large (and boring) book. The amount of detail you will depend on your use-case. For example, if you are an attorney that works on IPOs, you will need to know a lot about the legal stuff. If you are a creating statistical arbitrage strategies, you will need be an expert on exchange microstructure.</p>
<p>For the purposes of this book, the following stylized facts will suffice.</p>
<ol style="list-style-type: decimal">
<li><p>Stocks give their claims to the companies profits. This is a limited liability investment in that the value of a stock can never be negative.</p></li>
<li><p>After their initial issuance, Share of stock can be in the secondary market.</p></li>
<li><p>Trading of stocks on the secondary market occurs on exchanges, with trades occurring thousands or millions of times a day during business hours.</p></li>
<li><p>The exchange creates complex auction mechanisms to match buyers and seller. The rules are such that trades can occur and different prices for every transaction.</p></li>
<li><p>The stream of trade prices is often denoted as <span class="math inline">\(S_{t}\)</span> can be conceptualized as a stochastic process.</p></li>
<li><p>Profits are paid out to shareholders in the form of a per-share payment called a dividend. Immediately after the payment of a dividend, the stock price will reduce by the amount of the dividend.</p></li>
</ol>
</div>
<div id="exchange-traded-funds-etfs" class="section level2">
<h2><span class="header-section-number">3.3</span> Exchange Traded Funds (ETFs)</h2>
<p>Investing in stocks and other assets is usually an overly costly and complex proposition for an individual. For this reason, there are various vehicles for small investors to pool their money, and for it to then be invested under the auspices of invmentment professionals. The most common for of investment pooling is a mutual fund. More esoteric manifestations are hedge funds, unit invesment trust (UIT), and real estate investment trusts (REIT). The distinction between these is of general interest, but won’t be of huge importance to us in this book.</p>
<p>A fairly recent innovation in the world of pooled invesments is exchange traded funds (ETFs). Relative to mutual funds and hedge funds, ETFs engage in simpler strategies that are easier to execute. For this reason, it take fewer people to manage the fund and costs are low. In additon, sharte of ETFs are traded on exchanges in the exact same way as share of stock. ETFs also pay dividends in the same way that stocks do. Here are some popular ETFs:</p>
<p><strong>SPY</strong> - SPDR SP500 - tracks the S&amp;P500.</p>
<p><strong>IWM</strong> - iShares Russell 2000.</p>
<p><strong>GLD</strong> - invests in gold future.</p>
<p><strong>XLF</strong> - SPDR Financial - tracks the performance of financial services sector.</p>
<p>For the purpose of this course, we will treat stocks and ETFs as largely the same.</p>
</div>
<div id="discounting-accumulating" class="section level2">
<h2><span class="header-section-number">3.4</span> Discounting &amp; Accumulating</h2>
<p>When you lend money, you are paid interest to compensate for the fact that you can’t use the money to lent for other purposes. In this book I assume loans are totally safe and there is no risk of default. It is useful to the of the loan amount accumulating with interest. I use the following notation and nomenclature to capture this idea of accumulation:</p>
<p><strong>Definition:</strong> Assume the current time is <span class="math inline">\(t\)</span> and that <span class="math inline">\(T\)</span> is some time in the future. Then one dollar will accumulate to <span class="math inline">\(A(t,T)\)</span> by time <span class="math inline">\(T\)</span>. I will call <span class="math inline">\(A(t,T)\)</span> an <em>accumulation factor</em>.</p>
<p>If you are going to recieve money in the future, it’s not really worth as much to you as if the money were paid right now. The way we account for this value difference is by essentially <em>discounting</em> by the amount of interest you could have earned between now when you are going to be paid. The is the notion of present value and I express it as follows:</p>
<p><strong>Definition:</strong> The time <span class="math inline">\(t\)</span> present value of a one dollar cashflow at time <span class="math inline">\(T\)</span> will be denoted by <span class="math inline">\(D(t,T)\)</span>. I will call <span class="math inline">\(D(t,T)\)</span> a discount factor. I will call <span class="math inline">\(D(t, T)\)</span> a <em>discount factor</em>.</p>
<p>The following statements are true:</p>
<ol style="list-style-type: decimal">
<li><p><span class="math inline">\(A(t,T) \geq 1\)</span>.</p></li>
<li><p><span class="math inline">\(D(t, T) \leq 1\)</span>.</p></li>
<li><p><span class="math inline">\(D(t,T) = A(t,T)^{-1}\)</span>.</p></li>
</ol>
<p><strong>Definition:</strong> Suppose the current time is <span class="math inline">\(t\)</span> and consider a series of cashflows <span class="math inline">\(C_{1}, \ldots, C_{n}\)</span> occurring at future times <span class="math inline">\(t_{1}, \ldots t_{n}\)</span>. Then the time <span class="math inline">\(t\)</span> present value of this stream of cashflows is defined as:</p>
<span class="math display">\[\begin{align*}
PV(\{ C_{1}, \ldots, C_{n} \}) = \sum_{i = 1}^{n} D(t, t_{i}) \cdot C_{i}.
\end{align*}\]</span>
<div id="forward-accumulating" class="section level4">
<h4><span class="header-section-number">3.4.0.1</span> Forward Accumulating</h4>
<p>Suppose that the current time is <span class="math inline">\(t\)</span> and that <span class="math inline">\(T\)</span> is some time in the (distant) future. Suppose you know at for all <span class="math inline">\(s \in (t, T)\)</span> that all the values of <span class="math inline">\(A(t,t)\)</span>. This is set of accumulation factors is known as the spot yield curve (it is usually quoted in rates, but the idea is the same).</p>
Now, suppose for some particular <span class="math inline">\(t^* \in (t, T)\)</span> you want to work out an arrangement with your bank such that you will deposit one dollar at time <span class="math inline">\(t^*\)</span> and let it accumulate until <span class="math inline">\(T\)</span>. What is the accumlation factor that you should earn? It turns out that this <em>forward accumulation factor</em> is determined by the spot yield curve. We will denote the quantity <span class="math inline">\(A(t, t^*, T)\)</span>. There is a simple no-arbitrage argument for this but I won’t bother presenting it here becuase it’s not import. All you need to know is that it satisfies the following equation
<span class="math display">\[\begin{align*}
A(t, T) = A(t, t^*) \cdot A(t, t^*, T)
\end{align*}\]</span>
</div>
</div>
<div id="option-contracts" class="section level2">
<h2><span class="header-section-number">3.5</span> Option Contracts</h2>
<p>We discussed vanilla (American and European) options at length in the previous section, but I wll</p>
</div>
<div id="forward-contracts" class="section level2">
<h2><span class="header-section-number">3.6</span> Forward Contracts</h2>
<p>Forward contracts are simple derivatives that are one of the foundational building blocks in the theory and practice of quantitative finance. The value of forwards are related to option prices via a result known as <em>put-call parity</em>, a finding seminal to much of derivatives theory.</p>
<div id="specification-and-payoff" class="section level3">
<h3><span class="header-section-number">3.6.1</span> Specification and Payoff</h3>
<p>A forward contract this the obligation to transact some underlying asset at some future date, at a fixed price, called the strike price. The party that agrees to buy the underlying, is called the <em>long</em> side; the party that agrees to sell the underlying is the <em>short</em> side. The underlyings we will consider in this book will be stocks or ETFs, but forwards can exist on any kind of underlying: gold, corn, etc.</p>
<p>The key feature of a forward is that <em>both</em> sides are <em>obligated</em> to execute their side of the transaction - to either buy our sell the asset, at the agreed upon strike price. This stands in contrast to an option, in which the long side has a right, while the short side has an obligation.</p>
<p>Suppose a forward contract struck at <span class="math inline">\(K\)</span> expires at time <span class="math inline">\(T\)</span>. Suppose that underlying is trading at <span class="math inline">\(S_{T}\)</span> at the time of expiration. The long side has to pay <span class="math inline">\(K\)</span> and in return receives the underlying which has a value of <span class="math inline">\(S_{T}\)</span>. Thus the long position is worth <span class="math inline">\(S_{T} - K\)</span> at expiration. On the other hand, the short side recieves <span class="math inline">\(K\)</span> but has to deliver the underlying, which is worth <span class="math inline">\(S_{T}\)</span>. So the short position is worth <span class="math inline">\(K - S_{T}\)</span>.</p>
<p>Long Payoff: <span class="math inline">\(S_{T} - K\)</span></p>
<p>Short Payoff: <span class="math inline">\(S_{T} - K\)</span></p>
</div>
<div id="the-forward-price" class="section level3">
<h3><span class="header-section-number">3.6.2</span> The Forward Price</h3>
<p>Suppose that the current time is <span class="math inline">\(t\)</span> and that we are considering a forward contract that expires at time <span class="math inline">\(T\)</span>. Suppose further that the underlying is currently trading at <span class="math inline">\(S_{t}\)</span>. We are interested in the following questions: is there strike price of <span class="math inline">\(K\)</span> such that both parties can enter into the forward contract for zero cost, without introducing an arbitrage opportunity for either side?</p>
<p>It turns out the answer is yes, an this strike price is of such importance that it has been named simply, <em>the forward price</em>. A forward price is determined by two points in time: the current time <span class="math inline">\(t\)</span> and the expiration time <span class="math inline">\(T\)</span>. We will denote the forward price associated with these two times as <span class="math inline">\(F(t, T)\)</span>.</p>
<p><strong>Forward Pricing Formula:</strong> Suppose we are considering a forward contract at time <span class="math inline">\(t\)</span> which expires at time <span class="math inline">\(T\)</span>. Suppose that the underlying is currently trading at <span class="math inline">\(S_{t}\)</span> and that during the life of the forward, the underlying stock pays dividends <span class="math inline">\(c_{1}, \ldots, c_{n}\)</span> at times <span class="math inline">\(t_{1}, \ldots, t_{n}\)</span>. Then the we have that:</p>
<span class="math display">\[\begin{align*}
F(t, T) &amp;= A(t, T) \cdot S_{t} - \sum_{i=1}^{n} A(t, t_{i}, T) \cdot c_{i}
\end{align*}\]</span>
<p>In words we have that the forward price is the accumulated value of the current stock price less the accumulated value of all the dividend payments during the life of the contract.</p>
<p>Notice that for non-dividend paying stocks we have that: <span class="math inline">\(F(t, T) = A(t, T) \cdot S_{t}\)</span>.</p>
</div>
<div id="valuing-a-forward-contract" class="section level3">
<h3><span class="header-section-number">3.6.3</span> Valuing a Forward Contract</h3>
<p>Suppose that you enter into a forward contract at time <span class="math inline">\(t^{*}\)</span> and the strike price <span class="math inline">\(K\)</span> was chosen such that both parties could enter into the contract for zero cost. Suppose that the time is now <span class="math inline">\(t &gt; t^{*}\)</span>, what would be the value to unwind this contract?</p>
<p><strong>Fact:</strong> The no arbitrage unwind value of this contract is <span class="math inline">\(D(t, T) \cdot (F(t, T) - K)\)</span>.</p>
<p>This result really has nothing to do with the fact that the forward contract entered into at time <span class="math inline">\(t^{*}\)</span> or that it’s initial strike what chosen to make it a zero value contract. Ultimately it just gives us a formula for valuing a forward contract at any point.</p>
<p>Notice that if a forward contract is struck at the current forward price, then it has zero value, which we would expect.</p>
</div>
<div id="synthetic-forwards" class="section level3">
<h3><span class="header-section-number">3.6.4</span> Synthetic Forwards</h3>
<p>A portfolio consisting of a long call and a short put is a synthetic forward position.</p>
<p>Let the current time be <span class="math inline">\(t\)</span>. Consider a call and put on the same underlying, with the same strike price <span class="math inline">\(K\)</span>, that both expire at time <span class="math inline">\(T\)</span>. If you have a long position in the call and a short position in the put, then in all states of the world at time <span class="math inline">\(T\)</span> this portfolio has a value of <span class="math inline">\(S_{T} - K\)</span>, which is the same value as the payoff as a long forward.</p>
<p>Suppose that <span class="math inline">\(S_{T} &gt; K\)</span>. You exercise your long call, for which you recieve the stock worth <span class="math inline">\(S_{T}\)</span> whilie paying the strike price <span class="math inline">\(K\)</span> for it. The put you are short expires worthless. The total value of these two positions is <span class="math inline">\(S_{T} - K\)</span>.</p>
<p>On the other hand, suppose <span class="math inline">\(S_{T} &lt; K\)</span>. Your short put postion will be exercised, forcing you to buy the stock for <span class="math inline">\(K\)</span> even though it is only worth <span class="math inline">\(S_{T}\)</span>. Your call is worthless, so you won’t exercise. Once again, the combined value of these two position is <span class="math inline">\(S_{T} - K\)</span>.</p>
<p>If <span class="math inline">\(S_{T} = K\)</span>, nothing happens because both options are worthless. Doing nothing has zero value. But of course in this situation we have that <span class="math inline">\(S_{T} - K = 0\)</span>.</p>
</div>
</div>
<div id="put-call-parity" class="section level2">
<h2><span class="header-section-number">3.7</span> Put-Call Parity</h2>
<p>Let the current time be <span class="math inline">\(t\)</span> and consider a put and a call that both expire at time <span class="math inline">\(T\)</span> and that are both struck at <span class="math inline">\(K\)</span>. From the previous section we know that a long call and a short put create a synthetic forward struck at <span class="math inline">\(K\)</span>. We also know how to value any forward contract. Putting these two results together we get following put-call parity identity.</p>
<span class="math display">\[\begin{align*}
C(t, T, K) - P(t, T, K) = D(t, T) \cdot (F(t, T) - K)
\end{align*}\]</span>
<p>Put-call parity is one of the most important and foundational results in all of derivatives theory. Let’s examine a couple special cases more closely.</p>
<div id="non-dividend-paying-stock" class="section level4 unnumbered">
<h4>Non-Dividend Paying Stock</h4>
<p>Recall that when the stock pays no dividends during the life of the forward, that the forward price is simply the accumulated spot price. Thus we can</p>
<span class="math display">\[\begin{align*}
C(t, T, K) - P(t, T, K) &amp;= D(t, T) \cdot (F(t, T) - K) \\
                        &amp;= D(t, T) \cdot (A(t, T) \cdot S_{t} - K) \\
                        &amp;= S_{t} - D(t, T) \cdot K
\end{align*}\]</span>
</div>
<div id="dividend-paying-stock" class="section level4 unnumbered">
<h4>Dividend Paying Stock</h4>
Suppose that during the life of the options, that the underlying stockpays dividends <span class="math inline">\(c_{1}, \ldots, c_{n}\)</span> at times <span class="math inline">\(t_{1}, \ldots, t_{n}\)</span>.
<span class="math display">\[\begin{align*}
C(t, T, K) - P(t, T, K) &amp;= D(t, T) \cdot (F(t, T) - K) \\
                        &amp;= D(t, T) \cdot \bigg(A(t, T) \cdot S_{t} - \sum_{i=1}^{n} A(t, t_{i}, T) \cdot c_{i} - K \bigg) \\
                        &amp;= S_{t} - PV(\{c_{1}, \ldots, c_{n} \}) - D(t, T) \cdot K
\end{align*}\]</span>
</div>
</div>
<div id="rational-option-pricing" class="section level2">
<h2><span class="header-section-number">3.8</span> Rational Option Pricing</h2>
<p>The Black-Schole pricing framework, which will discuss at lenght in later chapters, requires complex assumptions about the random nature of the underlying, and dynamic trading strategies for replicating option payoffs. These complexities are required a specific value to an option, but there is a actually a lot we can say about option prices in general without making any assumptions of the underlying.</p>
<div id="extreme-american-bounds" class="section level4 unnumbered">
<h4>Extreme American Bounds</h4>
<p>The worst thing that can happen with a put or call is that it is not exercised, which means that they can never be worth less than zero. For a call, the best thing that can happen is that you exercise, which results in owning the stock, a call can never be worth more than the underlying stock. For a put, the best outcome is that you exercise when the stock is worthless, and you recieve <span class="math inline">\(K\)</span>. Thus, the put can never be worth more that <span class="math inline">\(K\)</span>. These facts are summarized in the following inequalities</p>
<span class="math display">\[\begin{align*}
0 &amp;\leq C_A(S, K, T) \leq S \\
0 &amp;\leq P_A(S, K, T) \leq K.
\end{align*}\]</span>
</div>
<div id="americans-geq-european" class="section level4 unnumbered">
<h4>Americans <span class="math inline">\(\geq\)</span> European</h4>
Any strategy that you can execute with a European option, you can execute with the American variant as well. Thus we have that
<span class="math display">\[\begin{align*}
C_E(S, K, T) &amp;\geq C_A(S, K, T) \\
P_E(S, K, T) &amp;\geq C_A(S, K, T).
\end{align*}\]</span>
</div>
<div id="call-bounds" class="section level4 unnumbered">
<h4>Call Bounds</h4>
<p>We can string together put-call parity along with the previous two results (add equation numbers), to arrive at the following series of inequalities:</p>
<span class="math display">\[\begin{align*}
\text{max}\big\{ 0, D(t, T) \cdot ((F(t, T) - K))  \big\} \leq C_E(S, K, T) \leq C_A(S, K, T) \leq S.   
\end{align*}\]</span>
<p>From left to right the justification for the three inequalities are as follows:</p>
<ol style="list-style-type: decimal">
<li><p>Extreme lower bound combined with put-call parity. Notice that this is equivalent to saying that a vanilla call is always worth greater that intrinsic.</p></li>
<li><p>Americans are worth more than Europeans.</p></li>
<li><p>Extreme upper bound for Amerians.</p></li>
</ol>
</div>
<div id="put-bounds" class="section level4 unnumbered">
<h4>Put Bounds</h4>
<p>We can argue for a similar sequence of inequalities for puts:</p>
<span class="math display">\[\begin{align*}
\text{max}\big\{ 0, D(t, T) \cdot (K - F(t, T))  \big\} \leq P_E(S, K, T) \leq P_A(S, K, T) \leq K. 
\end{align*}\]</span>
<p>From left to right the justification for the three inequalities are as follows:</p>
<ol style="list-style-type: decimal">
<li><p>Extreme lower bound combined with put-call parity. Notice that this is equivalent to saying that a vanilla put is always worth greater that intrinsic.</p></li>
<li><p>Americans are worth more than Europeans.</p></li>
<li><p>Extreme upper bound for Amerians.</p></li>
</ol>
</div>
<div id="early-exercise-no-dividends" class="section level4 unnumbered">
<h4>Early Exercise No Dividends</h4>
<p>It is never optimal to early exercise an American call option on a non-dividend paying stock. For a non-dividend paying underlying, it is always better to sell the call than to exercise. To see this, recall that from put call parity we have that</p>
<span class="math display">\[\begin{align*}
C_E(S_t, K T) &amp;= D(t, T) \cdot (F(t, T) - K) + P_E(K, T) \\
            &amp;= D(t, T) \cdot (A(t, T) \cdot S_t - K)) + P_E(S_t, K, T) \\
            &amp;= S_t - D(t, T) \cdot K + P_E(S_t, K, T).
\end{align*}\]</span>
If we can show that <span class="math inline">\(S_t - D(t, T) \cdot K + P_E(K, T) &gt; S_t - K\)</span> then we are done, because American options are always worth at least as much as Europeans. This inequality is equivalent to
<span class="math display">\[\begin{align*}
K &gt; D(t, T) \cdot K - P_E(S_t, K, T) \iff \\
K\cdot(1 - D(t, T)) + P_E(S_t, K, T) &gt; 0
\end{align*}\]</span>
<p>But of course this final inequality is true because <span class="math inline">\(D(t, T) &lt; 1\)</span> and <span class="math inline">\(P_E(S_t, K, T) &gt; 0\)</span>.</p>
</div>
<div id="early-exercise-single-dividend" class="section level4 unnumbered">
<h4>Early Exercise Single Dividend</h4>
(NOT COMPLETE) Consider and American call on a stock that pays a single dividend, call it <span class="math inline">\(\delta\)</span>, before the option expires, say at time <span class="math inline">\(t^*\)</span>. From put-call parity we have
<span class="math display">\[\begin{align*}
C_E(S_t, K, T)  &amp;= D(t, T) \cdot (F(t, T) - K) + P_E(S_t, K, T) \\
                &amp;= D(t, T) \cdot (A(t, T) \cdot S_t - D(t, t^*)\delta - K) + P(S_t, K, t) \\
                &amp;= S_t - D(t, T) \cdot D(t, t^*) \delta - K \cdot D(t, T) + P(S_t, K, t)
\end{align*}\]</span>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="options-101.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="the-markets.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/rmarkdown-book/edit/master/03_quantitative_results.Rmd",
"text": "Edit"
},
"download": ["rmarkdown.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
